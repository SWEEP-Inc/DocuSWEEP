"use strict";(self.webpackChunksweep_docs_website=self.webpackChunksweep_docs_website||[]).push([[6314],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>m});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=o.createContext({}),u=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=u(e.components);return o.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=u(n),f=r,m=c["".concat(p,".").concat(f)]||c[f]||d[f]||i;return n?o.createElement(m,a(a({ref:t},s),{},{components:n})):o.createElement(m,a({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=f;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:r,a[1]=l;for(var u=2;u<i;u++)a[u]=n[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},4956:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var o=n(7462),r=(n(7294),n(3905));const i={sidebar_position:6},a="Creating function definitions",l={unversionedId:"The Workflow Concept/creating-function-definitions",id:"The Workflow Concept/creating-function-definitions",title:"Creating function definitions",description:"Functions are currently only supported for AWS and Google cloud.",source:"@site/docs/The Workflow Concept/creating-function-definitions.md",sourceDirName:"The Workflow Concept",slug:"/The Workflow Concept/creating-function-definitions",permalink:"/The Workflow Concept/creating-function-definitions",draft:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Creating destinations",permalink:"/The Workflow Concept/creating-destinations"},next:{title:"Creating container definitions",permalink:"/The Workflow Concept/creating-container-definitions"}},p={},u=[],s={toc:u},c="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,o.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"creating-function-definitions"},"Creating function definitions"),(0,r.kt)("p",null,"Functions are currently only supported for AWS and Google cloud."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"A function definition contains three elements:"),(0,r.kt)("ol",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ol"},"Where: A destination (cloud provider) where to run the function"),(0,r.kt)("li",{parentName:"ol"},"What: A function to run"),(0,r.kt)("li",{parentName:"ol"},"How: Information for defining the function (memory, runtime, etc.)"))),(0,r.kt)("p",null,"Function-based tasks are placed in a workflow by specifying a ",(0,r.kt)("strong",{parentName:"p"},"function_def_id")," in the ",(0,r.kt)("strong",{parentName:"p"},"execution_configurations")," of the workflow definition. This must correspond to the id of a ",(0,r.kt)("em",{parentName:"p"},"function_definition")," that has been registered in SWEEP:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Function Definition")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"  {\n      'id' : str,\n      'destination_id' : str,\n      'function_name' : str,\n\n      'environment_variables' : dict\n      'description' : str\n      'memory' : int (see below for valid values for each cloud provider)\n      'runtime' : str (see below for valid values for each cloud provider)\n  }\n")),(0,r.kt)("p",null,"Required:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"id"),": unique identifier of the function definition.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"destination_id"),": id of a destination, must be one that has already been registered in SWEEP. See ",(0,r.kt)("a",{parentName:"p",href:"../The%20Workflow%20Concept/creating-destinations"},"Creating destinations"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"function_name"),": the name of the function"))),(0,r.kt)("p",null,"Optional:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"environment_variables:")," environment variables, e.g. {'EVAR1' : 'test'}")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"description:")," string describing the function"))),(0,r.kt)("p",null,"For AWS:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"memory:")," the amount of memory that your function has access to, in MB. increasing the function's memory also increases its CPU allocation. the default value is 128 MB. the value must be a multiple of 64 MB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"runtime:")," the function runtime. default is python 3.9"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"for AWS:'nodejs'|'nodejs4.3'|'nodejs6.10'|'nodejs8.10'|'nodejs10.x'|'nodejs12.x'|'java8'|'java8.al2'|'java11'|'python2.7'|'python3.6'|'python3.7'|'python3.8'|'dotnetcore1.0'|'dotnetcore2.0'|'dotnetcore2.1'|'dotnetcore3.1'|'nodejs4.3-edge'|'go1.x'|'ruby2.5'|'ruby2.7'|'provided'|'provided.al2',")))),(0,r.kt)("p",null,"For Google Cloud:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"memory:")," the amount of memory that your function has access to, in MB. increasing the function's memory also increases its CPU allocation. the default value is 128 MB. the possible values are (in MB): 128, 256, 512, 1024, 2048, 4096, 8292")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"runtime:")," the function runtime. default is python37"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"for AWS:'nodejs'|'nodejs4.3'|'nodejs6.10'|'nodejs8.10'|'nodejs10.x'|'nodejs12.x'|'java8'|'java8.al2'|'java11'|'python2.7'|'python3.6'|'python3.7'|'python3.8'|'dotnetcore1.0'|'dotnetcore2.0'|'dotnetcore2.1'|'dotnetcore3.1'|'nodejs4.3-edge'|'go1.x'|'ruby2.5'|'ruby2.7'|'provided'|'provided.al2',"),(0,r.kt)("li",{parentName:"ul"},"for GC: 'nodejs16' | 'nodejs14' | 'nodejs12' | 'nodejs10' | 'nodejs8' | 'nodejs6' | 'python310' | 'python39' | 'python38' | 'python37' | 'go116' | 'go113' | 'go111' | 'java17' | 'java11' | 'dotnet6' | 'dotnet3' | 'ruby30' | 'ruby27' | 'ruby26' | 'php81' | 'php74'")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"entry_point"),": the name of the function entry point. defuat is 'main'")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note that the ",(0,r.kt)("em",{parentName:"p"},"function_definition")," does not contain information about the actual code of the function. This is only specified when uploading the function to SWEEP, after that the function is referred to using its ",(0,r.kt)("em",{parentName:"p"},"function_name"),".")))}d.isMDXComponent=!0}}]);